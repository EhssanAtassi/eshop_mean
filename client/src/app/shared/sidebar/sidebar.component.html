<div class="collection">
    <div class="collection-header collection-header-top">
        <h4>{{ 'Categories' | translate | async }}</h4>
    </div>
    <a
        [routerLink]="[productsUrl]"
        class="collection-item"
        [class.active]="!activeCategory">
        {{ 'All' | translate | async }} {{ 'products' | translate | async }}
    </a>
    <a
        *ngFor="let category of categories"
        (click)="changeCategory.emit(category.titleUrl)"
        [routerLink]="[categoryUrl + '/' + category.titleUrl]"
        class="collection-item"
        [class.active]="activeCategory == (category.titleUrl)">
        {{category.title}}
    </a>
    <div class="sort-wrap">
        <div class="collection-header">
            <h4>{{ 'Sorting' | translate | async }}</h4>
        </div>
        <select
            class="collection-select"
            aria-label="Sort"
            [ngModel]="choosenSort || 'newest'"
            (ngModelChange)="onInputChange($event)">
            <option
                *ngFor="let option of sortOptions;"
                [value]="option.id">
                {{ option.name | translate | async }}
            </option>
        </select>
    </div>
    <div class="collection-header">
        <h4>{{ 'PriceRange' | translate | async }}</h4>
    </div>
    <input
        class="collection-range"
        type="range"
        name="range"
        aria-label="Range"
        max="{{maxPrice}}"
        min="{{minPrice}}"
        value="{{ (maxPrice < price) ? maxPrice : price }}"
        #ref
        (change)="changePrice.emit(ref.value)">
    {{ 'Price' | translate | async }} {{ 'to' | translate | async }}: {{ (ref.value * (convertVal || 1)) | priceFormat }}{{ currency }}
</div>
